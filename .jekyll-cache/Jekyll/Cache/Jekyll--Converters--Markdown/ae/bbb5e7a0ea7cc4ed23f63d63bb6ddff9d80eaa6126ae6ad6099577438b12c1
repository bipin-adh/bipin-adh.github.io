I"ó<h2 id="data-source-">Data Source :</h2>

<p><code class="language-plaintext highlighter-rouge">Note</code> : The data has been provided freely by Statsbomb .For further information ,go to their website to read the user agreement and github page for the data:</p>

<ul>
  <li><a href="https://github.com/statsbomb/open-data">Statsbomb Open Data</a></li>
  <li><a href="https://statsbomb.com/academy/">Statsbomb Resource Centre</a></li>
</ul>

<ol>
  <li>competitions - eg : UCL , worldcup , etc</li>
  <li>matches - take in competition id and see the matches of the required competition.</li>
  <li>events - take match id and visualize and analyze all the detailed events of every min (passes, shots,build up play,etc)</li>
</ol>

<h2 id="tools-used-">Tools Used :</h2>

<ul>
  <li>Python</li>
  <li>Matplotlib</li>
  <li>Pandas</li>
  <li>FcPython library (for creating football pitch) <code class="language-plaintext highlighter-rouge">Note: Check the end of the article for the link</code></li>
</ul>

<h2 id="following-is-the-goal-of-this-post-">Following is the goal of this post :</h2>

<ul>
  <li>Loading data into a table/dataframe.</li>
  <li>Filtering the data to extract location coordinates.</li>
  <li>Plotting a football pitch</li>
  <li>Setting the coordinates in the pitch to visualize the shots and its direction.</li>
</ul>

<h2 id="lets-start-">Letâ€™s start :</h2>

<ul>
  <li>Letâ€™s start by importing the required python libraries:</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">FCPython</span> <span class="kn">import</span> <span class="n">createPitch</span>
</code></pre></div></div>

<ul>
  <li>Next, we will need to load the data from the directory where we have saved and create a dataframe out of it (<code class="language-plaintext highlighter-rouge">competitions.json</code>).</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">Note: Read statsbomb sites and github page for the use of the data as mentioned above.</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># point to local directory of football data. (Change the location to your own)
</span><span class="n">BASE_DIR</span> <span class="o">=</span> <span class="s">'../statsbomb-data/open-data/data'</span>

<span class="c1"># Load the competition file .
# Create a dataframe of the json file
</span><span class="n">competitions_df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">BASE_DIR</span> <span class="o">+</span> <span class="s">'/competitions.json'</span><span class="p">)</span>
</code></pre></div></div>
<ul>
  <li>This is how it looks in a dataframe:
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># head() will give the first 5 row.
</span><span class="n">competitions_df</span><span class="p">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>    </div>
    <p><img src="/competition_df.png" alt="Output" /></p>
  </li>
  <li>Now, we can see the competition id for the required match <code class="language-plaintext highlighter-rouge">Spurs vs Liverpool</code> is 16.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># UEFA Champions League 2018/2019 has competition ID = 16
</span><span class="n">competition_id</span> <span class="o">=</span> <span class="mi">16</span>
</code></pre></div></div>

<h2 id="credits-">Credits :</h2>

<p>Thanks to the following amazing resources that was incredibly useful:</p>

<ol>
  <li>Friend of Tracking youtube channel : <a href="https://www.youtube.com/channel/UCUBFJYcag8j2rm_9HkrrA7w/videos">Friends of Tracking</a></li>
  <li>Fc Python website : <a href="https://fcpython.com/">FC Python</a></li>
</ol>
:ET